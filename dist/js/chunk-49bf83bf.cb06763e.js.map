{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.object.values.js","webpack:///./node_modules/core-js/internals/object-to-array.js","webpack:///./src/views/Pay.vue","webpack:///./src/views/Pay.vue?4530","webpack:///./src/views/Pay.vue?96b9","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["$","$values","values","target","stat","O","DESCRIPTORS","objectKeys","toIndexedObject","propertyIsEnumerable","f","createMethod","TO_ENTRIES","it","key","keys","length","i","result","call","push","module","exports","entries","class","products","product","id","src","imageUrl","alt","title","qty","$filters","currency","price","order","total","user","name","email","tel","address","is_paid","type","pay","data","orderId","methods","getOrder","this","$route","params","order_Id","$http","get","then","res","success","Object","catch","err","console","log","message","loader","$loading","show","post","$router","finally","hide","mounted","render","__scopeId","defineProperty","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","match","error"],"mappings":"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","file":"js/chunk-49bf83bf.cb06763e.js","sourcesContent":["var $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.es/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.es/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.es/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","<template>\n  <div>\n    <div class=\"container py-5\">\n      <h5 class=\"fw-bold mb-5\">結帳付款 Pay</h5>\n      <!-- product -->\n      <h6 class=\"fw-bold\">訂購明細</h6>\n      <div class=\"row justify-content-center bg-secondary py-3 mb-5\">\n        <div class=\"col-md-8\">\n          <table class=\"table text-center\">\n            <thead>\n              <tr>\n                <th>商品</th>\n                <th>品名</th>\n                <th>數量</th>\n                <th>售價</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"product in products\" :key=\"product.id\">\n                <td>\n                  <div class=\"img-container mx-auto\">\n                    <img :src=\"product.product.imageUrl\" :alt=\"product.product.title\" />\n                  </div>\n                </td>\n                <td class=\"align-middle\">{{ product.product.title }}</td>\n                <td class=\"align-middle\">{{ product.qty }}</td>\n                <td class=\"align-middle\">TWD {{ $filters.currency(product.product.price) }}</td>\n              </tr>\n            </tbody>\n          </table>\n          <div class=\"text-end fw-bold\">TWD {{ $filters.currency(order.total) }} 元</div>\n        </div>\n      </div>\n\n      <!-- 收件資訊 -->\n      <h6 class=\"fw-bold\">收件資訊</h6>\n      <div class=\"row justify-content-center bg-secondary py-3\">\n        <div class=\"col-md-8\">\n          <table class=\"table\">\n            <tbody>\n               <tr>\n              <td class=\"py-3\">收件人姓名</td>\n              <td class=\"py-3\" v-if=\"order.user\">{{order.user.name}}</td>\n            </tr>\n            <tr>\n              <td class=\"py-3\">Email</td>\n              <td class=\"py-3\" v-if=\"order.user\">{{order.user.email}}</td>\n            </tr>\n            <tr>\n              <td class=\"py-3\">電話</td>\n              <td class=\"py-3\" v-if=\"order.user\">{{order.user.tel}}</td>\n            </tr>\n            <tr>\n              <td class=\"py-3\">地址</td>\n              <td class=\"py-3\" v-if=\"order.user\">{{order.user.address}}</td>\n            </tr>\n             <tr>\n              <td class=\"py-3\">付款狀態</td>\n              <td class=\"py-3\" v-if=\"order.is_paid\">\n                <span class=\"text-success fw-bold\">已付款</span>\n              </td>\n              <td class=\"py-3\" v-else>\n                <span class=\"text-danger fw-bold\">尚未付款</span>\n              </td>\n            </tr>\n            </tbody>\n          </table>\n          <div>\n            <button type=\"button\"\n            class=\"btn btn-primary btn-lg d-block w-100 mt-4\"\n            @click=\"pay\"\n            >進行付款</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.img-container {\n  height: 100px;\n  width: 150px;\n}\n.img-container > img {\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n}\n</style>\n\n<script>\nexport default {\n  data() {\n    return {\n      orderId: '',\n      order: {},\n      products: [],\n    };\n  },\n  methods: {\n    getOrder() {\n      this.orderId = this.$route.params.order_Id;\n      this.$http\n        .get(\n          `${process.env.VUE_APP_BASEURL}/api/${process.env.VUE_APP_PATH}/order/${this.orderId}`,\n        )\n        .then((res) => {\n          const { success, order } = res.data;\n          if (success) {\n            this.order = order;\n            this.products = Object.values(order.products);\n          }\n        })\n        .catch((err) => {\n          console.log(err.message);\n        });\n    },\n    pay() {\n      const loader = this.$loading.show();\n      this.$http\n        .post(\n          `${process.env.VUE_APP_BASEURL}/api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`,\n        )\n        .then((res) => {\n          const { success } = res.data;\n          if (success) {\n            this.$router.push('/complete');\n          }\n        })\n        .catch((err) => {\n          console.log(err.message);\n        })\n        .finally(() => {\n          loader.hide();\n        });\n    },\n  },\n  mounted() {\n    this.getOrder();\n  },\n};\n</script>\n","import { render } from \"./Pay.vue?vue&type=template&id=59f68d72&scoped=true\"\nimport script from \"./Pay.vue?vue&type=script&lang=js\"\nexport * from \"./Pay.vue?vue&type=script&lang=js\"\n\nimport \"./Pay.vue?vue&type=style&index=0&id=59f68d72&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-59f68d72\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Pay.vue?vue&type=style&index=0&id=59f68d72&scoped=true&lang=css\"","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}