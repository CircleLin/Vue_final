(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-356a0bf4"],{"159b":function(t,e,c){var o=c("da84"),r=c("fdbc"),a=c("17c2"),n=c("9112");for(var i in r){var s=o[i],l=s&&s.prototype;if(l&&l.forEach!==a)try{n(l,"forEach",a)}catch(d){l.forEach=a}}},"17c2":function(t,e,c){"use strict";var o=c("b727").forEach,r=c("a640"),a=r("forEach");t.exports=a?[].forEach:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}},"871f":function(t,e,c){t.exports=c.p+"img/bag-x.f923930d.svg"},a640:function(t,e,c){"use strict";var o=c("d039");t.exports=function(t,e){var c=[][t];return!!c&&o((function(){c.call(null,e||function(){throw 1},1)}))}},b727:function(t,e,c){var o=c("0366"),r=c("44ad"),a=c("7b0b"),n=c("50c4"),i=c("65f0"),s=[].push,l=function(t){var e=1==t,c=2==t,l=3==t,d=4==t,u=6==t,b=7==t,p=5==t||u;return function(f,h,j,O){for(var y,m,v=a(f),g=r(v),V=o(h,j,3),N=n(g.length),x=0,w=O||i,k=e?w(f,N):c||b?w(f,0):void 0;N>x;x++)if((p||x in g)&&(y=g[x],m=V(y,x,v),t))if(e)k[x]=m;else if(m)switch(t){case 3:return!0;case 5:return y;case 6:return x;case 2:s.call(k,y)}else switch(t){case 4:return!1;case 7:s.call(k,y)}return u?-1:l||d?d:k}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},b789:function(t,e,c){"use strict";c.r(e);var o=c("7a23"),r=c("871f"),a=c.n(r),n={class:"container py-5"},i={key:0,class:"row"},s=Object(o["createVNode"])("h5",{class:"fw-bold mb-5"},"購物車 Shopping Cart",-1),l=Object(o["createVNode"])("h1",{class:"fw-bold text-primary text-center"},"購物車沒有東西唷！",-1),d=Object(o["createVNode"])("h5",{class:"text-center my-5"},"快到商品頁面看看喜歡的商品吧。",-1),u=Object(o["createTextVNode"])("繼續購物"),b={key:1},p={class:"row"},f=Object(o["createVNode"])("h5",{class:"fw-bold mb-5"},"購物車 Shopping Cart",-1),h={class:"col-md-8"},j={class:"col-4"},O={class:"col-4"},y={class:"row h-100 flex-column justify-content-evenly"},m={class:"text-center"},v={class:"text-center"},g={class:"text-center"},V={class:"col-3 px-4"},N={class:"row h-100 flex-column justify-content-center"},x={class:"input-group mb-3"},w={class:"text-end"},k={class:"col-1 d-flex justify-content-center align-items-center"},C=Object(o["createVNode"])("img",{src:a.a,width:"24",alt:"delete cart"},null,-1),D={class:"col-md-4 border-top"},$={class:"sticky-top ps-md-4"},B=Object(o["createVNode"])("h5",{class:"fw-bold mb-md-4 mt-md-5"},"購物車總計",-1),S={class:"mb-3"},E={class:"mb-3"},q=Object(o["createVNode"])("div",{class:"input-group mb-3"},[Object(o["createVNode"])("input",{type:"text",class:"form-control",placeholder:"輸入優惠券"}),Object(o["createVNode"])("button",{class:"btn btn-outline-primary",type:"button",id:"button-addon2"}," 輸入 ")],-1),T=Object(o["createVNode"])("hr",null,null,-1),_={class:"mb-3"},W=Object(o["createTextVNode"])(" 確認訂單"),Q=Object(o["createTextVNode"])("繼續購物");function U(t,e,c,r,a,U){var J=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createBlock"])("div",n,[0===a.carts.length?(Object(o["openBlock"])(),Object(o["createBlock"])("div",i,[s,l,d,Object(o["createVNode"])(J,{to:"/products",class:"btn btn-primary btn-lg d-block w-25 mx-auto"},{default:Object(o["withCtx"])((function(){return[u]})),_:1})])):(Object(o["openBlock"])(),Object(o["createBlock"])("div",b,[Object(o["createVNode"])("div",p,[f,Object(o["createVNode"])("div",h,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(a.carts,(function(e,c){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:"row border-top border-bottom py-5",key:e.id},[Object(o["createVNode"])("div",j,[Object(o["createVNode"])("img",{class:"img-fluid",src:e.product.imageUrl,alt:e.product.title},null,8,["src","alt"])]),Object(o["createVNode"])("div",O,[Object(o["createVNode"])("div",y,[Object(o["createVNode"])("div",m,Object(o["toDisplayString"])(e.product.title),1),Object(o["createVNode"])("div",v,Object(o["toDisplayString"])(e.product.roast),1),Object(o["createVNode"])("div",g,Object(o["toDisplayString"])(e.product.unit)+" / TWD "+Object(o["toDisplayString"])(t.$filters.currency(e.product.price)),1)])]),Object(o["createVNode"])("div",V,[Object(o["createVNode"])("div",N,[Object(o["createVNode"])("div",x,[Object(o["createVNode"])("button",{class:"btn btn-outline-primary",type:"button",onClick:function(t){return U.calcQty(e.id,e.product_id,e.qty,c,"minus")}}," - ",8,["onClick"]),Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"v-model.number",class:"form-control text-center",placeholder:"","aria-label":"Example text with button addon","aria-describedby":"button-addon1","onUpdate:modelValue":function(t){return e.qty=t}},null,8,["onUpdate:modelValue"]),[[o["vModelText"],e.qty]]),Object(o["createVNode"])("button",{class:"btn btn-outline-primary",type:"button",onClick:function(t){return U.calcQty(e.id,e.product_id,e.qty,c,"add")}}," + ",8,["onClick"])]),Object(o["createVNode"])("h6",w," 小計 "+Object(o["toDisplayString"])(t.$filters.currency(e.product.price*e.qty))+" 元 ",1)])]),Object(o["createVNode"])("div",k,[Object(o["createVNode"])("a",{href:"#",onClick:Object(o["withModifiers"])((function(t){return U.deleteCart(e.id)}),["prevent"])},[C],8,["onClick"])])])})),128))]),Object(o["createVNode"])("div",D,[Object(o["createVNode"])("div",$,[B,Object(o["createVNode"])("h6",S,"小計：TWD "+Object(o["toDisplayString"])(t.$filters.currency(U.total))+" 元",1),Object(o["createVNode"])("h6",E,"運費：TWD "+Object(o["toDisplayString"])(t.$filters.currency(a.shippingCost))+" 元",1),q,T,Object(o["createVNode"])("h5",_," 總計：TWD "+Object(o["toDisplayString"])(t.$filters.currency(U.total+a.shippingCost))+" 元 ",1),Object(o["createVNode"])(J,{to:"/order",class:"btn btn-primary d-block w-100 btn-lg mb-2"},{default:Object(o["withCtx"])((function(){return[W]})),_:1}),Object(o["createVNode"])(J,{to:"/products",class:"btn btn-outline-primary d-block w-100"},{default:Object(o["withCtx"])((function(){return[Q]})),_:1})])])])]))])}c("d3b7"),c("99af"),c("159b");var J={data:function(){return{carts:[],shippingCost:60}},methods:{getCart:function(){var t=this,e=this.$loading.show();this.$http.get("".concat("https://vue3-course-api.hexschool.io","/api/").concat("myhex1-api","/cart")).then((function(e){t.carts=e.data.data.carts,t.final_total=e.data.data.final_total})).catch((function(t){console.log(t.message)})).finally((function(){e.hide()}))},calcQty:function(t,e,c,o,r){var a="add"===r?c+1:c-1;this.carts[o].qty=a,this.updateCart(t,e,a)},updateCart:function(t,e,c){var o={product_id:e,qty:c};this.$http.put("".concat("https://vue3-course-api.hexschool.io","/api/").concat("myhex1-api","/cart/").concat(t),{data:o}).then((function(){})).catch((function(t){console.log(t.message)}))},deleteCart:function(t){var e=this,c=this.$loading.show();this.$http.delete("".concat("https://vue3-course-api.hexschool.io","/api/").concat("myhex1-api","/cart/").concat(t)).then((function(t){var c=t.data,o=c.success,r=c.message;o&&(e.$swal(r),e.getCart())})).catch((function(t){console.log(t.message)})).finally((function(){c.hide()}))}},computed:{total:function(){var t=0;return this.carts.forEach((function(e){t+=e.product.price*e.qty})),t}},mounted:function(){this.getCart()}};J.render=U;e["default"]=J}}]);
//# sourceMappingURL=chunk-356a0bf4.6d93a00c.js.map