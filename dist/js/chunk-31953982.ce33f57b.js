(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-31953982"],{"07ac":function(e,t,c){var o=c("23e7"),a=c("6f53").values;o({target:"Object",stat:!0},{values:function(e){return a(e)}})},"0a87":function(e,t,c){"use strict";c("4b07")},"4b07":function(e,t,c){},"6f53":function(e,t,c){var o=c("83ab"),a=c("df75"),r=c("fc6a"),d=c("d1e7").f,n=function(e){return function(t){var c,n=r(t),s=a(n),l=s.length,b=0,i=[];while(l>b)c=s[b++],o&&!d.call(n,c)||i.push(e?[c,n[c]]:n[c]);return i}};e.exports={entries:n(!0),values:n(!1)}},"76a1":function(e,t,c){"use strict";c.r(t);c("b0c0");var o=c("7a23"),a=Object(o["withScopeId"])("data-v-5b61eae0");Object(o["pushScopeId"])("data-v-5b61eae0");var r={class:"container py-5"},d=Object(o["createVNode"])("h5",{class:"fw-bold mb-5"},"結帳付款 Pay",-1),n={class:"fw-bold"},s={class:"row justify-content-center bg-secondary py-3 mb-5"},l={class:"col-md-8"},b={class:"table text-center"},i=Object(o["createVNode"])("thead",null,[Object(o["createVNode"])("tr",null,[Object(o["createVNode"])("th",{class:"d-md-block d-none"},"商品"),Object(o["createVNode"])("th",null,"品名"),Object(o["createVNode"])("th",null,"優惠券"),Object(o["createVNode"])("th",null,"數量"),Object(o["createVNode"])("th",{class:"text-end"},"售價")])],-1),u={class:"d-md-block d-none"},p={class:"img-container mx-auto"},j={class:"align-middle"},O={class:"align-middle"},y={class:"align-middle"},h={class:"align-middle text-end px-0"},f={class:"text-end fw-bold"},N=Object(o["createVNode"])("h6",{class:"fw-bold"},"收件資訊",-1),V={class:"row justify-content-center bg-secondary py-3"},m={class:"col-md-8"},g={class:"table"},k=Object(o["createVNode"])("td",{class:"py-3"},"收件人姓名",-1),v={key:0,class:"py-3"},w=Object(o["createVNode"])("td",{class:"py-3"},"Email",-1),B={key:0,class:"py-3"},S=Object(o["createVNode"])("td",{class:"py-3"},"電話",-1),x={key:0,class:"py-3"},D=Object(o["createVNode"])("td",{class:"py-3"},"地址",-1),I={key:0,class:"py-3"},$=Object(o["createVNode"])("td",{class:"py-3"},"付款狀態",-1),C={key:0,class:"py-3"},_=Object(o["createVNode"])("span",{class:"text-success fw-bold"},"已付款",-1),F={key:1,class:"py-3"},J=Object(o["createVNode"])("span",{class:"text-danger fw-bold"},"尚未付款",-1);Object(o["popScopeId"])();var T=a((function(e,t,c,a,T,W){return Object(o["openBlock"])(),Object(o["createBlock"])("div",null,[Object(o["createVNode"])("div",r,[d,Object(o["createVNode"])("h6",n,"訂購明細 (共 "+Object(o["toDisplayString"])(T.products.length)+" 件)",1),Object(o["createVNode"])("div",s,[Object(o["createVNode"])("div",l,[Object(o["createVNode"])("table",b,[i,Object(o["createVNode"])("tbody",null,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(T.products,(function(t){return Object(o["openBlock"])(),Object(o["createBlock"])("tr",{key:t.id},[Object(o["createVNode"])("td",u,[Object(o["createVNode"])("div",p,[Object(o["createVNode"])("img",{src:t.product.imageUrl,alt:t.product.title},null,8,["src","alt"])])]),Object(o["createVNode"])("td",j,Object(o["toDisplayString"])(t.product.title),1),Object(o["createVNode"])("td",O,Object(o["toDisplayString"])(void 0===t.coupon?"":t.coupon.title),1),Object(o["createVNode"])("td",y,Object(o["toDisplayString"])(t.qty),1),Object(o["createVNode"])("td",h," TWD "+Object(o["toDisplayString"])(e.$filters.currency(t.final_total))+" 元 ",1)])})),128))])]),Object(o["createVNode"])("div",f,"TWD "+Object(o["toDisplayString"])(e.$filters.currency(T.order.total))+" 元",1)])]),N,Object(o["createVNode"])("div",V,[Object(o["createVNode"])("div",m,[Object(o["createVNode"])("table",g,[Object(o["createVNode"])("tbody",null,[Object(o["createVNode"])("tr",null,[k,T.order.user?(Object(o["openBlock"])(),Object(o["createBlock"])("td",v,Object(o["toDisplayString"])(T.order.user.name),1)):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])("tr",null,[w,T.order.user?(Object(o["openBlock"])(),Object(o["createBlock"])("td",B,Object(o["toDisplayString"])(T.order.user.email),1)):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])("tr",null,[S,T.order.user?(Object(o["openBlock"])(),Object(o["createBlock"])("td",x,Object(o["toDisplayString"])(T.order.user.tel),1)):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])("tr",null,[D,T.order.user?(Object(o["openBlock"])(),Object(o["createBlock"])("td",I,Object(o["toDisplayString"])(T.order.user.address),1)):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])("tr",null,[$,T.order.is_paid?(Object(o["openBlock"])(),Object(o["createBlock"])("td",C,[_])):(Object(o["openBlock"])(),Object(o["createBlock"])("td",F,[J]))])])]),Object(o["createVNode"])("div",null,[Object(o["createVNode"])("button",{type:"button",class:"btn btn-primary btn-lg d-block w-100 mt-4",onClick:t[1]||(t[1]=function(){return W.pay&&W.pay.apply(W,arguments)})},"進行付款")])])])])])})),W=(c("99af"),c("07ac"),c("d3b7"),{data:function(){return{orderId:"",order:{},products:[]}},methods:{getOrder:function(){var e=this;this.orderId=this.$route.params.order_Id,this.$http.get("".concat("https://vue3-course-api.hexschool.io","/api/").concat("myhex1-api","/order/").concat(this.orderId)).then((function(t){console.log(t.data);var c=t.data,o=c.success,a=c.order;o&&(e.order=a,e.products=Object.values(a.products))})).catch((function(e){console.log(e.message)}))},pay:function(){var e=this,t=this.$loading.show();this.$http.post("".concat("https://vue3-course-api.hexschool.io","/api/").concat("myhex1-api","/pay/").concat(this.orderId)).then((function(t){var c=t.data.success;c&&e.$router.push("/complete")})).catch((function(e){console.log(e.message)})).finally((function(){t.hide()}))}},mounted:function(){this.getOrder()}});c("0a87");W.render=T,W.__scopeId="data-v-5b61eae0";t["default"]=W},b0c0:function(e,t,c){var o=c("83ab"),a=c("9bf2").f,r=Function.prototype,d=r.toString,n=/^\s*function ([^ (]*)/,s="name";o&&!(s in r)&&a(r,s,{configurable:!0,get:function(){try{return d.call(this).match(n)[1]}catch(e){return""}}})}}]);
//# sourceMappingURL=chunk-31953982.ce33f57b.js.map