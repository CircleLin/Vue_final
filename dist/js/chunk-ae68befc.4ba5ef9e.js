(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ae68befc"],{"4fac":function(e,t,c){},"6b7c":function(e,t,c){"use strict";c("4fac")},b0c0:function(e,t,c){var a=c("83ab"),o=c("9bf2").f,r=Function.prototype,l=r.toString,n=/^\s*function ([^ (]*)/,s="name";a&&!(s in r)&&o(r,s,{configurable:!0,get:function(){try{return l.call(this).match(n)[1]}catch(e){return""}}})},cf09:function(e,t,c){e.exports=c.p+"img/arrow-left-short.36456acd.svg"},cf2a:function(e,t,c){"use strict";c.r(t);c("b0c0");var a=c("7a23"),o=c("cf09"),r=c.n(o),l=Object(a["withScopeId"])("data-v-3130dfc2");Object(a["pushScopeId"])("data-v-3130dfc2");var n={class:"container py-5"},s={class:"row"},d=Object(a["createVNode"])("h5",{class:"fw-bold"},"確認訂單 Check Out",-1),i=Object(a["createVNode"])("img",{src:r.a,width:"20",alt:""},null,-1),u=Object(a["createTextVNode"])(" 回到購物車"),b={class:"col-md-5 bg-secondary px-4 py-3"},m=Object(a["createStaticVNode"])('<div class="row mb-1 justify-content-between" data-v-3130dfc2><div class="col-2" data-v-3130dfc2><h6 class="fw-bold" data-v-3130dfc2>商品</h6></div><div class="col-2 text-end" data-v-3130dfc2><h6 class="fw-bold" data-v-3130dfc2>小計</h6></div></div>',1),f={class:"col-6"},p={class:"row py-3 h-100 d-flex flex-column justify-content-between"},h={class:"img-container mb-2"},j={class:"mb-2"},O={class:"mb-2"},V={class:"col-6 py-3"},g={class:"row h-100 d-flex flex-column justify-content-between"},v={class:"text-end"},N={class:"text-end"},y={class:"col-md-7 px-4 py-3"},x=Object(a["createVNode"])("h6",{class:"fw-bold"},"填寫收件人資訊",-1),k=Object(a["createVNode"])("label",{for:"name",class:"form-label mt-3"},[Object(a["createVNode"])("span",{class:"text-danger"},"* "),Object(a["createTextVNode"])("姓名")],-1),w=Object(a["createVNode"])("label",{for:"email",class:"form-label mt-3"},[Object(a["createVNode"])("span",{class:"text-danger"},"* "),Object(a["createTextVNode"])("Email")],-1),S=Object(a["createVNode"])("label",{for:"tel",class:"form-label mt-3"},[Object(a["createVNode"])("span",{class:"text-danger"},"* "),Object(a["createTextVNode"])("收件人電話")],-1),L=Object(a["createVNode"])("label",{for:"addr",class:"form-label mt-3"},[Object(a["createVNode"])("span",{class:"text-danger"},"* "),Object(a["createTextVNode"])("收件人地址")],-1),T=Object(a["createVNode"])("label",{for:"msg",class:"form-label mt-3"},"訂單備註 (選填)",-1),C={class:"form-check-label mt-3"},D=Object(a["createVNode"])("span",{class:"text-danger"}," * ",-1),U=Object(a["createTextVNode"])("我已閱讀並同意網站的 條款與條件 "),$=Object(a["createVNode"])("button",{class:"btn btn-primary btn-lg mt-3 d-block w-100",type:"submit"},"送出訂單",-1);Object(a["popScopeId"])();var _=l((function(e,t,c,o,r,_){var B=Object(a["resolveComponent"])("router-link"),q=Object(a["resolveComponent"])("Field"),F=Object(a["resolveComponent"])("error-message"),I=Object(a["resolveComponent"])("Form");return Object(a["openBlock"])(),Object(a["createBlock"])("div",n,[Object(a["createVNode"])("div",s,[d,Object(a["createVNode"])(B,{to:"/cart",class:"h6 mb-5 text-primary",style:{"text-decoration":"none"}},{default:l((function(){return[i,u]})),_:1}),Object(a["createVNode"])("div",b,[m,(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(r.carts,(function(t){return Object(a["openBlock"])(),Object(a["createBlock"])("div",{class:"row border-top border-bottom",key:t.id},[Object(a["createVNode"])("div",f,[Object(a["createVNode"])("div",p,[Object(a["createVNode"])("div",h,[Object(a["createVNode"])("img",{src:t.product.imageUrl,alt:t.product.title},null,8,["src","alt"])]),Object(a["createVNode"])("div",j,Object(a["toDisplayString"])(t.product.title),1),Object(a["createVNode"])("div",O,Object(a["toDisplayString"])(t.product.roast),1),Object(a["createVNode"])("div",null,Object(a["toDisplayString"])(t.product.unit)+" / TWD "+Object(a["toDisplayString"])(e.$filters.currency(t.product.price)),1)])]),Object(a["createVNode"])("div",V,[Object(a["createVNode"])("div",g,[Object(a["createVNode"])("div",v,"數量："+Object(a["toDisplayString"])(t.qty),1),Object(a["createVNode"])("div",N," TWD "+Object(a["toDisplayString"])(e.$filters.currency(t.qty*t.product.price))+" 元 ",1)])])])})),128))]),Object(a["createVNode"])("div",y,[x,Object(a["createVNode"])(I,{onSubmit:_.onSubmit,ref:"form"},{default:l((function(e){var c=e.errors;return[k,Object(a["createVNode"])(q,{id:"name",name:"姓名",type:"text",class:["form-control",{"is-invalid":c["姓名"]}],placeholder:"請輸入姓名",rules:"required",modelValue:r.user.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.user.name=e})},null,8,["class","modelValue"]),Object(a["createVNode"])(F,{name:"姓名",class:"invalid-feedback"}),w,Object(a["createVNode"])(q,{id:"email",name:"信箱",type:"email",class:["form-control",{"is-invalid":c["信箱"]}],placeholder:"請輸入 Email",rules:"email|required",modelValue:r.user.email,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.user.email=e})},null,8,["class","modelValue"]),Object(a["createVNode"])(F,{name:"信箱",class:"invalid-feedback"}),S,Object(a["createVNode"])(q,{id:"tel",name:"電話",type:"tel",class:["form-control",{"is-invalid":c["電話"]}],placeholder:"請輸入電話",rules:_.isPhone,modelValue:r.user.tel,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.user.tel=e})},null,8,["class","rules","modelValue"]),Object(a["createVNode"])(F,{name:"電話",class:"invalid-feedback"}),L,Object(a["createVNode"])(q,{id:"addr",name:"地址",type:"text",class:["form-control",{"is-invalid":c["地址"]}],placeholder:"請輸入地址",rules:"required",modelValue:r.user.addr,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.user.addr=e})},null,8,["class","modelValue"]),Object(a["createVNode"])(F,{name:"地址",class:"invalid-feedback"}),T,Object(a["createVNode"])(q,{id:"msg",name:"備註",placeholder:"字數不可超過"+r.msgLengthLimit+"字元",cols:"10",rows:"3",class:["form-control",{"is-invalid":c["備註"]}],rules:_.msgTooLong,modelValue:r.msg,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.msg=e}),as:"textarea"},null,8,["placeholder","class","rules","modelValue"]),Object(a["createVNode"])(F,{name:"備註",class:"invalid-feedback"}),Object(a["createVNode"])(q,{name:"agree",type:"checkbox",rules:_.checkAgree,modelValue:r.user.agree,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.user.agree=e})},{default:l((function(){return[Object(a["createVNode"])("label",C,[Object(a["withDirectives"])(Object(a["createVNode"])("input",{type:"checkbox",name:"agree",class:"form-check-input","onUpdate:modelValue":t[6]||(t[6]=function(e){return r.user.agree=e})},null,512),[[a["vModelCheckbox"],r.user.agree]]),D,U])]})),_:1},8,["rules","modelValue"]),Object(a["createVNode"])(F,{name:"agree",class:"invalid-feedback"}),$]})),_:1},8,["onSubmit"])])])])})),B=(c("d3b7"),c("99af"),{data:function(){return{carts:[],final_total:0,user:{email:"",name:"",tel:"",addr:"",agree:!1},msg:"",msgLengthLimit:250}},methods:{getCart:function(){var e=this,t=this.$loading.show();this.$http.get("".concat("https://vue3-course-api.hexschool.io","/api/").concat("myhex1-api","/cart")).then((function(t){e.carts=t.data.data.carts,e.final_total=t.data.data.final_total})).catch((function(e){console.log(e.message)})).finally((function(){t.hide()}))},isPhone:function(e){return void 0===e||(""!==e&&e.length>=8&&e.length<=10||"電話為必填，且長度需介於8~10碼")},msgTooLong:function(e){return void 0===e||(e.length<this.msgLengthLimit||"留言字數不可超過".concat(this.msgLengthLimit,"個字元"))},checkAgree:function(e){return!!e||"請閱讀並同意網站購物條款"},onSubmit:function(){var e=this,t=this.$loading.show(),c={data:{user:{name:this.user.name,email:this.user.email,tel:this.user.tel,address:this.user.addr},message:this.msg}};this.$http.post("".concat("https://vue3-course-api.hexschool.io","/api/").concat("myhex1-api","/order"),c).then((function(t){var c=t.data,a=c.success,o=c.orderId;a&&(e.$refs.form.resetForm(),e.emitter.emit("updateCart"),e.$router.push({path:"/pay/".concat(o)}))})).catch((function(e){console.log(e.message)})).finally((function(){t.hide()}))}},mounted:function(){this.getCart()}});c("6b7c");B.render=_,B.__scopeId="data-v-3130dfc2";t["default"]=B}}]);
//# sourceMappingURL=chunk-ae68befc.4ba5ef9e.js.map