(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b25200e"],{"8d66":function(e,t,a){"use strict";a.r(t);var c=a("7a23"),n={class:"container"},o={class:"text-end mt-4"},i={class:"table table-striped bg-white mt-4 shadow-sm"},r=Object(c["createVNode"])("thead",null,[Object(c["createVNode"])("tr",{class:"text-center bg-dark text-white"},[Object(c["createVNode"])("th",{width:"120"}," 分類 "),Object(c["createVNode"])("th",{width:"120"},"產品名稱"),Object(c["createVNode"])("th",{width:"120"}," 原價 "),Object(c["createVNode"])("th",{width:"120"}," 售價 "),Object(c["createVNode"])("th",{width:"100"}," 是否啟用 "),Object(c["createVNode"])("th",{width:"120"}," 編輯 ")])],-1),s={key:0,class:"text-success"},d={key:1},l={class:"btn-group"},p=Object(c["createVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-pencil",viewBox:"0 0 16 16"},[Object(c["createVNode"])("path",{d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0\n                    .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65\n                    -.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5\n                     4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5\n                     3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1\n                     .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821\n                      3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0\n                      1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"})],-1),u=Object(c["createVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash",viewBox:"0 0 16 16"},[Object(c["createVNode"])("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1\n                    0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5\n                    v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5\n                    a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),Object(c["createVNode"])("path",{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2\n                    2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1\n                    1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1\n                    1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1\n                    1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882\n                    4H4.118zM2.5 3V2h11v1h-11z"})],-1);function b(e,t,a,b,h,g){var O=this,j=Object(c["resolveComponent"])("pages");return Object(c["openBlock"])(),Object(c["createBlock"])("div",n,[Object(c["createVNode"])("div",o,[Object(c["createVNode"])("button",{class:"btn btn-primary",onClick:t[1]||(t[1]=function(e){return O.$router.push("/admin/addproduct")})}," 建立新的產品 ")]),Object(c["createVNode"])("table",i,[r,Object(c["createVNode"])("tbody",null,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(h.products,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])("tr",{key:e.id,class:"text-center"},[Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(e.category),1),Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(e.title),1),Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(e.origin_price),1),Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(e.price),1),Object(c["createVNode"])("td",null,[e.is_enabled?(Object(c["openBlock"])(),Object(c["createBlock"])("span",s,"啟用")):(Object(c["openBlock"])(),Object(c["createBlock"])("span",d,"未啟用"))]),Object(c["createVNode"])("td",null,[Object(c["createVNode"])("div",l,[Object(c["createVNode"])("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:function(t){return O.$router.push("/admin/editproduct/".concat(e.id))}},[p],8,["onClick"]),Object(c["createVNode"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:function(t){return g.deleteProduct(e.id,e.title)}},[u],8,["onClick"])])])])})),128))])]),Object(c["createVNode"])(j,{pagination:h.pagination,onGetPagedData:g.getProducts},null,8,["pagination","onGetPagedData"])])}a("d3b7"),a("99af");var h=a("c994"),g={data:function(){return{products:[],tempProduct:{imageUrl:"https://st3.depositphotos.com/23594922/31822/v/600/depositphotos_318221368-stock-illustration-missing-picture-page-for-website.jpg",imagesUrl:[]},pagination:{},isNew:!1,isLoading:!1}},components:{pages:h["a"]},methods:{getProducts:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this.$loading.show();this.$http.get("".concat("https://vue3-course-api.hexschool.io","/api/").concat("myhex1-api","/admin/products?page=").concat(t)).then((function(t){var a=t.data,c=a.success,n=a.products,o=a.pagination;c&&(e.products=n,e.pagination=o)})).catch((function(e){console.log(e.message)})).finally((function(){a.hide()}))},addProduct:function(e){var t=this;this.$http.post("".concat("https://vue3-course-api.hexschool.io","/api/").concat("myhex1-api","/admin/product"),{data:e}).then((function(e){var a=e.data,c=a.success,n=a.message;c?(t.getProducts(),t.productModal.hide()):t.$swal.fire("Oops...","".concat(n),"error")})).catch((function(e){console.log(e.message)}))},deleteProduct:function(e,t){var a=this;this.$swal.fire({title:"確定要刪除".concat(t,"?"),confirmButtonText:"刪除",denyButtonText:"不刪除"}).then((function(t){t.isConfirmed?a.$http.delete("".concat("https://vue3-course-api.hexschool.io","/api/").concat("myhex1-api","/admin/product/").concat(e)).then((function(e){var t=e.data,c=t.success,n=t.message;c?(a.getProducts(),a.$swal.fire("已刪除")):a.$swal.fire("Oops...","".concat(n),"error")})).catch((function(e){console.log(e.message)})):t.isDenied&&a.$swal.fire("Changes are not saved","","info")}))}},created:function(){this.getProducts()}};g.render=b;t["default"]=g},c994:function(e,t,a){"use strict";var c=a("7a23"),n={"aria-label":"..."},o={class:"pagination"};function i(e,t,a,i,r,s){return Object(c["openBlock"])(),Object(c["createBlock"])("nav",n,[Object(c["createVNode"])("ul",o,[Object(c["createVNode"])("li",{class:["page-item",{disabled:!a.pagination.has_pre}]},[Object(c["createVNode"])("a",{class:"page-link",href:"#",tabindex:"-1",onClick:t[1]||(t[1]=function(e){return s.getPagedData(a.pagination.current_page-1)})},"Previous")],2),(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(a.pagination.total_pages,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])("li",{class:["page-item",{active:e==a.pagination.current_page}],key:e},[Object(c["createVNode"])("a",{class:"page-link",href:"#",onClick:Object(c["withModifiers"])((function(t){return s.getPagedData(e)}),["prevent"])},Object(c["toDisplayString"])(e),9,["onClick"])],2)})),128)),Object(c["createVNode"])("li",{class:["page-item",{disabled:!a.pagination.has_next}]},[Object(c["createVNode"])("a",{class:"page-link",href:"#",onClick:t[2]||(t[2]=Object(c["withModifiers"])((function(e){return s.getPagedData(a.pagination.current_page+1)}),["prevent"]))},"Next")],2)])])}var r={props:["pagination"],data:function(){return{}},methods:{getPagedData:function(e){this.$emit("get-paged-data",e)}}};r.render=i;t["a"]=r}}]);
//# sourceMappingURL=chunk-2b25200e.ccd8c475.js.map