{"version":3,"sources":["webpack:///./src/views/admin/Login.vue","webpack:///./src/views/admin/Login.vue?cf37"],"names":["class","id","for","type","email","placeholder","required","autofocus","pw","login","data","methods","loader","this","$loading","show","user","username","password","$http","post","then","res","success","token","expired","document","cookie","Date","$router","push","$Swal","fire","message","catch","err","console","log","finally","hide","render"],"mappings":"4IACKA,MAAM,kB,GACLA,MAAM,8B,EACR,yBAEK,MAFDA,MAAM,0CAAyC,QAEnD,G,GACKA,MAAM,S,GACHC,GAAG,OAAOD,MAAM,e,GACfA,MAAM,sB,EAUT,yBAA2C,SAApCE,IAAI,YAAW,iBAAa,G,GAEhCF,MAAM,iB,EAST,yBAAsC,SAA/BE,IAAI,YAAW,YAAQ,G,wDA5BxC,yBAoCM,MApCN,EAoCM,CAnCL,yBAkCO,MAlCP,EAkCO,CAjCJ,EAGA,yBA6BM,MA7BN,EA6BM,CA5BJ,yBA2BO,OA3BP,EA2BO,CA1BL,yBAWM,MAXN,EAWM,C,4BAVJ,yBAQE,SAPAC,KAAK,QACLH,MAAM,eACNC,GAAG,W,qDACM,EAAAG,MAAK,IACdC,YAAY,mBACZC,SAAA,GACAC,UAAA,I,4BAHS,EAAAH,SAKX,IAEF,yBAUM,MAVN,EAUM,C,4BATJ,yBAOE,SANAD,KAAK,WACLH,MAAM,eACNC,GAAG,W,qDACM,EAAAO,GAAE,IACXH,YAAY,WACZC,SAAA,I,4BAFS,EAAAE,MAIX,IAEF,yBAES,UAFDR,MAAM,oCAAoCG,KAAK,SAAU,QAAK,8BAAE,EAAAM,OAAA,EAAAA,MAAA,sBAAO,gB,wBAUxE,GACbC,KADa,WAEX,MAAO,CACLN,MAAO,GACPI,GAAI,KAGRG,QAAS,CACPF,MADO,WACC,WACAG,EAASC,KAAKC,SAASC,OAC7B,GAAmB,KAAfF,KAAKT,OAA4B,KAAZS,KAAKL,GAA9B,CAKA,IAAMQ,EAAO,CACXC,SAAUJ,KAAKT,MACfc,SAAUL,KAAKL,IAGjBK,KAAKM,MACFC,KADH,UACW,uCADX,iBACuDJ,GACpDK,MAAK,SAACC,GACL,GAAIA,EAAIZ,KAAKa,QAAS,CACpB,MAA2BD,EAAIZ,KAAvBc,EAAR,EAAQA,MAAOC,EAAf,EAAeA,QACfC,SAASC,OAAT,gBAA2BH,EAA3B,qBAA6C,IAAII,KAAKH,GAAtD,YACA,EAAKI,QAAQC,KAAK,eAElB,EAAKC,MAAMC,KAAKV,EAAIZ,KAAKuB,YAG5BC,OAAM,SAACC,GACNC,QAAQC,IAAIF,EAAIF,YAEjBK,SAAQ,WACP1B,EAAO2B,eAxBT1B,KAAKkB,MAAMC,KAAK,kBCjDxB,EAAOQ,OAASA,EAED","file":"js/chunk-2d0d0262.1d5aa76a.js","sourcesContent":["<template>\n<div class=\"container my-5\">\n <div class=\"row justify-content-center\">\n    <h1 class=\"h3 mb-3 font-weight-normal text-center\">\n      登入\n    </h1>\n    <div class=\"col-4\">\n      <form id=\"form\" class=\"form-signin\">\n        <div class=\"form-floating mb-3\">\n          <input\n            type=\"email\"\n            class=\"form-control\"\n            id=\"username\"\n            v-model=\"email\"\n            placeholder=\"name@example.com\"\n            required\n            autofocus\n          />\n          <label for=\"username\">Email address</label>\n        </div>\n        <div class=\"form-floating\">\n          <input\n            type=\"password\"\n            class=\"form-control\"\n            id=\"password\"\n            v-model=\"pw\"\n            placeholder=\"Password\"\n            required\n          />\n          <label for=\"password\">Password</label>\n        </div>\n        <button class=\"btn btn-lg btn-primary w-100 mt-3\" type=\"button\" @click=\"login\">\n          登入\n        </button>\n      </form>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      email: '',\n      pw: '',\n    };\n  },\n  methods: {\n    login() {\n      const loader = this.$loading.show();\n      if (this.email === '' || this.pw === '') {\n        this.$Swal.fire('請輸入Email、密碼');\n        return;\n      }\n\n      const user = {\n        username: this.email,\n        password: this.pw,\n      };\n\n      this.$http\n        .post(`${process.env.VUE_APP_BASEURL}/admin/signin`, user)\n        .then((res) => {\n          if (res.data.success) {\n            const { token, expired } = res.data;\n            document.cookie = `token=${token}; expires=${new Date(expired)}; path=/`;\n            this.$router.push('/admin');\n          } else {\n            this.$Swal.fire(res.data.message);\n          }\n        })\n        .catch((err) => {\n          console.log(err.message);\n        })\n        .finally(() => {\n          loader.hide();\n        });\n    },\n  },\n};\n</script>\n","import { render } from \"./Login.vue?vue&type=template&id=3a4ec1b4\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}